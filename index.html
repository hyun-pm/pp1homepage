<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Super PPM</title>
    <link rel="stylesheet" href="styles.css" />
    <meta name="color-scheme" content="light" />
  </head>
  <body>
    <!-- ìƒë‹¨ ë¡œê³ /íŠ¸ë¦¬ê±° -->
    <header class="topbar">
      <button class="logo-btn" id="logoBtn" aria-label="SUPER PPM ì†Œê°œ ì• ë‹ˆë©”ì´ì…˜ ë‹¤ì‹œ ì‹¤í–‰">
        SUPERPPM
      </button>
    </header>

    <!-- ìƒë‹¨ í…ìŠ¤íŠ¸(íƒ€ìž ì• ë‹ˆë©”ì´ì…˜ ëŒ€ìƒ) -->
    <div class="pixel-text" id="introText" aria-live="polite"></div>

    <!-- ë©”ì¸ ížˆì–´ë¡œ: ê·¸ë¼ë°ì´ì…˜ + ì¤‘ì•™ ì´ë¯¸ì§€ + í´ë¦­ í•«ìŠ¤íŒŸ(ë‚˜í˜„: ì „ì²´ ì˜ì—­) -->
    <main class="hero" role="main">
      <img src="pp1.png" alt="Super PPM ìºë¦­í„° ì´ë¯¸ì§€" class="hero-image" />

      <!-- ðŸ”µ ë‚˜í˜„ ìºë¦­í„° ì „ì²´ í´ë¦­ ì˜ì—­ -->
      <button
        class="hotspot nahyun-area"
        id="hs-nahyun"
        aria-label="ë‚˜í˜„ ìºë¦­í„° ì—´ê¸°">
      </button>
    </main>

    <!-- ðŸŽ¬ í”Œë¡œíŒ… ì˜ìƒ ëª¨ë‹¬ -->
    <div class="video-modal" id="videoModal" aria-hidden="true" role="dialog" aria-label="ìºë¦­í„° ì˜ìƒ">
      <div class="video-wrap">
        <video id="charVideo" playsinline controls muted></video>
        <button class="close-btn" id="closeModal" aria-label="ì˜ìƒ ë‹«ê¸°">âœ•</button>
      </div>
    </div>

    <!-- ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      const introText  = document.getElementById("introText");
      const logoBtn    = document.getElementById("logoBtn");
      const hsNahyun   = document.getElementById("hs-nahyun");

      // ê¸°ë³¸ ì†Œê°œ ë¬¸êµ¬
      const defaultMessage = `ìš°ë¦¬ëŠ” ë§ˆì¹˜ ë§ˆë¦¬ì˜¤ íŒŒí‹°ì²˜ëŸ¼, ê°ìž ë‹¤ë¥¸ ìŠ¤í‚¬ì„ ê°€ì§„ ìºë¦­í„°ë“¤ì´ ëª¨ì—¬ í•˜ë‚˜ì˜ í° ëª¨í—˜ì„ ë§Œë“¤ì–´ê°€ëŠ” íŒ€ìž…ë‹ˆë‹¤.
ëˆ„êµ°ê°€ëŠ” íž˜ìœ¼ë¡œ, ëˆ„êµ°ê°€ëŠ” ì•„ì´ë””ì–´ë¡œ, ë˜ ë‹¤ë¥¸ ëˆ„êµ°ê°€ëŠ” ë¶„ìœ„ê¸°ë¥¼ ë°ížˆë©°,
í•¨ê»˜ë¼ë©´ ì–´ë–¤ ë³´ìŠ¤ì „ë„ ë‘ë µì§€ ì•ŠìŠµë‹ˆë‹¤!`;

      // ë‚˜í˜„ ìºë¦­í„° ë°ì´í„°
      const NAHYUN = {
        message: "ë°ê³  ì¹œí™”ì ì¸ ì—ë„ˆì§€ë¡œ íŒ€ì„ ë”°ëœ»í•˜ê²Œ ë¬¶ì–´ì£¼ëŠ” ë¬´ë“œë©”ì´ì»¤",
        video: "videos/nahyun.mp4" // ë‚˜ì¤‘ì— íŒŒì¼ ì˜¬ë¦¬ë©´ ìžë™ ìž¬ìƒë¨
      };

      // ëª¨ë‹¬ í•¸ë“¤
      const videoModal = document.getElementById("videoModal");
      const closeModal = document.getElementById("closeModal");
      const charVideo  = document.getElementById("charVideo");

      let timer;
      function typeWriter(text, el, speed = 40) {
        clearInterval(timer);
        el.textContent = "";
        let i = 0;
        timer = setInterval(() => {
          el.textContent += text[i] ?? "";
          i++;
          if (i >= text.length) clearInterval(timer);
        }, speed);
      }

      // ëª¨ë‹¬ ì—´ê³  ë‹«ê¸°
      function openVideo(src) {
        if (!src) return;
        charVideo.src = src;
        charVideo.currentTime = 0;
        videoModal.classList.add("show");
        videoModal.setAttribute("aria-hidden", "false");
        charVideo.play().catch(() => {});
      }
      function closeVideo() {
        charVideo.pause();
        charVideo.currentTime = 0;
        videoModal.classList.remove("show");
        videoModal.setAttribute("aria-hidden", "true");
        charVideo.removeAttribute("src");
        charVideo.load();
      }

      closeModal.addEventListener("click", closeVideo);
      videoModal.addEventListener("click", (e) => { if (e.target === videoModal) closeVideo(); });
      document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeVideo(); });

      // ì²« ì§„ìž… ê¸°ë³¸ ë¬¸êµ¬ ì• ë‹ˆë©”ì´ì…˜
      window.addEventListener("DOMContentLoaded", () => {
        typeWriter(defaultMessage, introText, 40);
      });

      // ë¡œê³  í´ë¦­ â†’ ê¸°ë³¸ ë¬¸êµ¬ ë‹¤ì‹œ ì‹œìž‘
      logoBtn.addEventListener("click", () => {
        typeWriter(defaultMessage, introText, 40);
      });

      // ë‚˜í˜„ í´ë¦­ â†’ ë¬¸êµ¬ êµì²´ + (ìžˆë‹¤ë©´) ì˜ìƒ ëª¨ë‹¬
      hsNahyun.addEventListener("click", () => {
        typeWriter(NAHYUN.message, introText, 35);
        openVideo(NAHYUN.video);
      });
    </script>
  </body>
</html>
