/* 레이아웃 */
.game-outer{
  min-height: 100vh;
  display: grid;
  place-items: center;
  background: linear-gradient(#269CFE, #BDF4FF);
  padding-top: 120px; /* topbar 보정 */
}
.game-wrap{
  width: min(92vw, 620px);
  background: #E9FBFF;
  border: 2px solid #ffffffaa;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  border-radius: 12px;
  padding: 14px 14px 18px;
  position: relative;
}

/* HUD / 타이머 */
.hud{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: center;
  margin-bottom: 10px;

  /* 디밍 위로 올려서 RESTART 클릭 가능 */
  position: relative;
  z-index: 2;
}
.timer{ display: grid; gap: 6px; }
.timer-label{ font-weight: 700; text-shadow:0 1px 3px rgba(0,0,0,.15); }
.timer-bar{ position: relative; height: 10px; background: #cfefff; border: 1px solid #9ad1ff; overflow: hidden; }
.timer-bar > i{ position:absolute; inset:0; width:100%; background:#66b8ff; transform-origin:left center; transform: scaleX(1); }

/* 보드 */
.board{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

/* 카드(버튼) */
.card{
  position: relative;
  padding: 0;
  border: 0;
  background: transparent;
  aspect-ratio: 3/4;
  perspective: 900px;
  cursor: url('./cursor.png') 16 16, pointer;
}
.card[disabled]{ cursor: not-allowed; }

.card-inner{
  position: absolute; inset:0;
  border-radius: 10px;
  transform-style: preserve-3d;
  transition: transform .38s cubic-bezier(.2,.8,.2,1);
  box-shadow: 0 4px 12px rgba(0,0,0,.18);
}

/* ✅ flipped = 뒷면 보이는 상태 */
.card.flipped .card-inner{ transform: rotateY(180deg); }

.card.matched .card-inner{ filter: saturate(1.15) drop-shadow(0 2px 4px rgba(0,0,0,.25)); }

.face{
  position: absolute; inset:0;
  border-radius: 10px;
  display: grid; place-items: center;
  backface-visibility: hidden; -webkit-backface-visibility: hidden;
  overflow: hidden;
}

/* 앞면: 회전 없음 */
.face.front{
  background: #fff;
  border: 2px solid #ffffffcc;
}
.face.front img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 뒷면: 180도 회전 (카드가 회전하면 정면으로 보이게) */
.face.back{
  background:
    radial-gradient(circle at 20% 20%, #bde6ff, transparent 50%),
    radial-gradient(circle at 80% 30%, #d4f2ff, transparent 50%),
    linear-gradient(180deg, #90d8ff, #e9fbff);
  border: 2px solid #ffffffcc;
  transform: rotateY(180deg); /* ← ★ 핵심 */
}
.face.back.has-image{
  background: #000;
}
.face.back img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: .9;
}

/* 상태 텍스트 (디밍) */
.status{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  text-align: center;
  background: rgba(0,0,0,.55);
  color: #fff;
  font-weight: 700;
  font-size: clamp(18px, 2.2vw, 28px);
  text-shadow: 0 2px 6px rgba(0,0,0,.55);
  border-radius: 10px;

  /* 게임 중엔 클릭 통과 */
  pointer-events: none;

  /* 기본은 숨김 */
  opacity: 0;
  visibility: hidden;
  transition: opacity .2s ease, visibility .2s ease;

  z-index: 1; /* HUD(2)보다 아래 */
}
.status.show{
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}
